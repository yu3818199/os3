;------------------------------------------------------------------------;
;                                                                        ;
;      ###########           ##########              ###   #########     ;
;    ###############      ###############           ###  #############   ;
;  #######     #######   #######    ####           ###  ######   ######  ;
; #######       #######  ###########              ###            ######  ;
; #######       #######   ###############       ####         #########   ;
; #######       #######     ###############    ####          ##########  ;
; #######       #######           #########   ####                ###### ;
;  #######     #######  #######     #######  ###       ######     ###### ;
;    ###############     #################  ###         ###############  ;
;       #########           ###########    ###            ###########    ;
;                                                                        ;
; 数值转换函数                                                           ;
;                                                                        ;
; 主要功能：2进制转10进制，2进制转16进制等功能                           ;
; 作    者: yuqiancheng                                                  ;
; 编写日期: 2019/10/01                                                   ;
;                                                                        ;
;------------------------------------------------------------------------;


;------------------------------------------------------------------
; 2进制转为10进制
; 输入参数: ax - 2进制值
; 输出参数: 无 / 10进制值保存在dec_char
bin2dec:

  pusha
  mov cx,[cs:dec_char_len]
bin2dec_1:
  xor dx,dx
  mov bx,10
  div bx
  or dl,0x30
  mov bx,cx
  dec bx
  mov [cs:dec_char+bx],dl
 loop bin2dec_1
  popa

ret

dec_char: db '*****'
dec_char_len: dw ($-dec_char)





