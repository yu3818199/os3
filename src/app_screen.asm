;------------------------------------------------------------------------;
;                                                                        ;
;      ###########           ##########              ###   #########     ;
;    ###############      ###############           ###  #############   ;
;  #######     #######   #######    ####           ###  ######   ######  ;
; #######       #######  ###########              ###            ######  ;
; #######       #######   ###############       ####         #########   ;
; #######       #######     ###############    ####          ##########  ;
; #######       #######           #########   ####                ###### ;
;  #######     #######  #######     #######  ###       ######     ###### ;
;    ###############     #################  ###         ###############  ;
;       #########           ###########    ###            ###########    ;
;                                                                        ;
; 显示动态屏幕                                                           ;
;                                                                        ;
; 主要功能：显示动态屏幕                                                 ;
; 作    者: yuqiancheng                                                  ;
; 编写日期: 2019/10/10                                                   ;
;                                                                        ;
;------------------------------------------------------------------------;

;------------------------------------------------------------------
; 显示动态屏幕
; 附加程序，由系统动态加载执行
; 输入输出参数: 无
display_Multicolor:

   pusha
   push ds

   ;赋值显卡段地址
   mov bx,0xb800
   mov ds,bx

   mov dx,1234h
   
   ; 循环1万次
   mov cx,10000

   ; 显示随机字符和颜色
 Multicolor1:
   push cx
   mov cx,25*80-1
  Multicolor2:
   mov bx,cx
   add bx,bx ; 计算地址
   add dx,bx ; 模糊显示内容
   mov byte [ds:bx],dh
   mov byte [ds:bx+1],dl
  loop Multicolor2
   pop cx
 loop Multicolor1

   pop ds
   popa

ret


; 本程序分配4KB空间
times 512*8-($-$$) db 0xff

